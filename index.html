<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Schools in WA</title>

    <!-- Link to Leaflet CSS for map styling -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <!-- Link to Marker Cluster CSS for clustering map markers -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.Default.css"
    />
    <!-- Link to custom CSS for additional styling -->
    <link rel="stylesheet" href="static/style.css" />
    <!-- Link to Bootstrap CSS for responsive layout and styling -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-12 p-4 text-center bg-light">
          <h1>Schools in WA Dashboard</h1>
          <p>
            This comprehensive dashboard allows users to explore school data
            interactively, providing valuable insights through various
            visualizations and filters.
          </p>
        </div>
      </div>
      <br />
      <div class="instructions-card">
        <h5>How to Use the Dashboard</h5>
        <hr />
        <div class="instruction">
          <strong>Filter by Postcode:</strong> Select a postcode from the
          dropdown to filter the school table.
        </div>
        <div class="instruction">
          <strong>View Charts:</strong> Observe the bar chart for student
          distributions and the doughnut chart for the number of schools by
          region.
        </div>
        <div class="instruction">
          <strong>Select a School:</strong> Choose a school from the dropdown to
          update the student distribution chart and school details.
        </div>
        <div class="instruction">
          <strong>Interact with the Map:</strong> Click on school markers to
          view detailed information about each school.
        </div>
      </div>
      <hr />
      <div class="row">
        <div class="col-md-12">
          <h3>School Summary Statistics</h3>
          <br />
          <label for="postcode-select">Select Postcode:</label>
          <!-- Dropdown for selecting postcode -->
          <select id="postcode-select"></select>
          <!-- Table to display school summary statistics -->
          <table id="school-table">
            <thead>
              <tr>
                <th class="table-header">School Name</th>
                <th class="table-header">Code</th>
                <th class="table-header">Address</th>
                <th class="table-header">Suburb</th>
                <th class="table-header">Phone</th>
                <th class="table-header">Education Region</th>
                <th class="table-header">Classification Group</th>
                <th class="table-header">Total Students</th>
              </tr>
            </thead>
            <tbody>
              <!-- Rows will be added dynamically -->
            </tbody>
          </table>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-md-6">
          <!-- Canvas for doughnut chart -->
          <canvas id="doughnut"></canvas>
        </div>
        <div class="col-md-6">
          <div>
            <h3>Number of Students per Class For Selected School</h3>
            <br />
            <label for="school-select">Select School:</label>
            <!-- Dropdown for selecting school code -->
            <select id="school-select" onchange="updateChart()">
              <!-- options added dynamically -->
            </select>
            <br />
            <br />
            <!-- Canvas for student chart -->
            <canvas id="student-chart"></canvas>
            <div class="display-card">
              <div class="card" id="school-details">
                <h2 id="detail-name">School Name</h2>
                <p><label>Code:</label> <span id="detail-code"></span></p>
                <p><label>Address:</label> <span id="detail-address"></span></p>
                <p><label>Phone:</label> <span id="detail-phone"></span></p>
                <p>
                  <label>Classification Group:</label>
                  <span id="detail-classification"></span>
                </p>
                <p>
                  <label>Total Students:</label> <span id="detail-total"></span>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-md-12">
          <div><h3>Explore Schools in WA</h3></div>
          <br />
          <!-- Div for rendering the map -->
          <div id="map"></div>
        </div>
      </div>
    </div>
    <!-- D3 library for data visualization -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Leaflet JavaScript library for interactive maps -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <!-- Marker Cluster JavaScript library for clustering map markers -->
    <script
      type="text/javascript"
      src="https://unpkg.com/leaflet.markercluster@1.0.3/dist/leaflet.markercluster.js"
    ></script>
    <!-- Chart.js library for creating charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Custom JavaScript file for the dashboard functionality -->
    <script type="text/javascript" src="static/plots.js"></script>
  </body>
</html>
